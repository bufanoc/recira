/* Copyright (c) 2008, 2009, 2010 Nicira, Inc. */

if(!dojo._hasResource["nox.ext.apps.commonui.coreui._ItemSort"]){dojo._hasResource["nox.ext.apps.commonui.coreui._ItemSort"]=true;dojo.provide("nox.ext.apps.commonui.coreui._ItemSort");dojo.declare("nox.ext.apps.commonui.coreui._ItemSort",[],{_get_item_dom_node:function(_1){throw Error("Method must be implemented by subclass");},_get_dom_node_item:function(_2){throw Error("Method must be implemented by subclass");},_get_num_item_dom_nodes:function(){throw Error("Method must be implemented by subclass");},_get_item_dom_node_idx:function(_3){throw Error("Method must be implemented by subclass");},_get_store:function(){throw Error("Method must be implemented by subclass");},_cmp_attr:function(_4,_5){if(_5==null){return -1;}if(_4==null){throw "first item in _cmp_attr should not be null";}var _6=this._get_store();for(i=0;i<this.sort.attr.length;i++){var v1=_6.getValue(_4,this.sort.attr[i]);var v2=_6.getValue(_5,this.sort.attr[i]);if(v1<v2){return -1;}else{if(v1>v2){return 1;}}}return 0;},_insert_helper:function(_9){var n=null;var m=(this.sort.decreasing==true)?-1:1;var _c=0;var _d=this._get_num_item_dom_nodes();while(_c!=_d){var i=Math.floor((_d-_c)/2);n=this._get_item_dom_node_idx(_c+i);var z=this._get_dom_node_item(n);var r=m*this.sort.cmp.call(this,_9,z);if(r<0){_d=_c+i;}else{if(r>0){n=this._get_item_dom_node_idx([_c+i+1]);_c=_c+i+1;}else{break;}}}while(n!=null&&this.sort.cmp.call(this,_9,this._get_dom_node_item(n))==0){n=n.nextSibling;}return n;},_node_to_insert_before:function(_11){if(this.sort==null||this.sort==""){return null;}else{return this._insert_helper(_11);}},postMixInProperties:function(){if(this.sort!=null){if(this.sort.cmp==null){this.sort.cmp=this._cmp_attr;}if(typeof (this.sort.attr)=="string"){this.sort.attr=[this.sort.attr];}}}});}