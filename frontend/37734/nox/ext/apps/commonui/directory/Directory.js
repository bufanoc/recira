/* Copyright (c) 2008, 2009, 2010 Nicira, Inc. */

if(!dojo._hasResource["nox.ext.apps.commonui.directory.Directory"]){dojo._hasResource["nox.ext.apps.commonui.directory.Directory"]=true;dojo.provide("nox.ext.apps.commonui.directory.Directory");dojo.require("nox.ext.apps.commonui.coreui._NamedEntity");dojo.declare("nox.ext.apps.commonui.directory.Directory",[nox.ext.apps.commonui.coreui._NamedEntity],{principal_types:["user","host","switch","location","hostnetname"],group_types:["user","host","switch","location","dladdr","nwaddr","hostnetname"],constructor:function(_1){dojo.mixin(this.updateTypes,{"info":{load:dojo.hitch(this,"updateInfo"),save:dojo.hitch(this,"storeInfo")}});dojo.forEach(this.principal_types,function(_2){if(this._data.name=="discovered"){this._data["enabled_principals"][_2]="RO";}if(this._data.enabled_principals[_2]=="RW"){this._data["read_"+_2+"_enabled"]=true;this._data["write_"+_2+"_enabled"]=true;}else{if(this._data.enabled_principals[_2]=="RO"){this._data["read_"+_2+"_enabled"]=true;this._data["write_"+_2+"_enabled"]=false;}else{this._data["read_"+_2+"_enabled"]=false;this._data["write_"+_2+"_enabled"]=false;}}},this);dojo.forEach(this.group_types,function(_3){if(this._data.name=="discovered"){this._data["enabled_groups"][_3]="RO";}if(this._data.enabled_groups[_3]=="RW"){this._data["read_"+_3+"group_enabled"]=true;this._data["write_"+_3+"group_enabled"]=true;}else{if(this._data.enabled_groups[_3]=="RO"){this._data["read_"+_3+"group_enabled"]=true;this._data["write_"+_3+"group_enabled"]=false;}else{this._data["read_"+_3+"group_enabled"]=false;this._data["write_"+_3+"group_enabled"]=false;}}},this);delete this._data.enabled_principals;delete this._data.enabled_groups;},wsv1Path:function(){if(this.isNull()){return null;}return "/ws.v1/directory/instance/"+this.displayName();},updateInfo:function(_4){return this._xhrGetMixin("info",this.wsv1Path());},storeInfo:function(_5){return this._xhrPutData("info",this.wsv1Path());}});}