/* Copyright (c) 2008, 2009, 2010 Nicira, Inc. */

if(!dojo._hasResource["nox.ext.apps.commonui.directory.HostInterface"]){dojo._hasResource["nox.ext.apps.commonui.directory.HostInterface"]=true;dojo.provide("nox.ext.apps.commonui.directory.HostInterface");dojo.require("nox.ext.apps.commonui.coreui._NamedEntity");dojo.require("nox.ext.apps.commonui.directory.Switch");dojo.require("nox.ext.apps.commonui.directory.SwitchPort");dojo.require("nox.ext.apps.commonui.directory.Location");dojo.declare("nox.ext.apps.commonui.directory.HostInterface",[nox.ext.apps.commonui.coreui._NamedEntity],{dmws:nox.ext.apps.commonui.directory,constructor:function(_1){this.itemConstructor=this.dmws.HostInterface;if(this.hostObj==undefined){throw new Error("HostInterface must be initialized with the associated host object");}dojo.mixin(this.derivedAttributes,{uiLocationMonitorLink:{get:dojo.hitch(this,"uiLocationMonitorLink")},uiLocationMonitorLinkText:{get:dojo.hitch(this,"uiLocationMonitorLinkText")},uiSwitchMonitorLink:{get:dojo.hitch(this,"uiSwitchMonitorLink")},uiSwitchPortMonitorLink:{get:dojo.hitch(this,"uiSwitchPortMonitorLink")},uiSwitchAndPortMonitorLinks:{get:dojo.hitch(this,"uiSwitchAndPortMonitorLinks")}});dojo.mixin(this.updateTypes,{"info":{load:dojo.hitch(this,"updateInfo")}});},wsv1Path:function(){return this.hostObj.wsv1Path()+"/interface/"+this._data.name;},uiMonitorPath:function(){return "/Monitors/Hosts/HostInfo?name="+encodeURIComponent(this.hostObj.getValue("name"))+"&interface="+encodeURIComponent(this._data.name);},uiLocationMonitorLink:function(){if(this.location==null){return null;}else{return this.location.uiMonitorLink();}},uiLocationMonitorLinkText:function(){if(this.location==null){return null;}else{return this.location.uiMonitorLinkText();}},uiSwitchMonitorLink:function(){if(this.switchObj==null){return null;}return this.switchObj.uiMonitorLink();},uiSwitchPortMonitorLink:function(){if(this.switchPortObj==null){return null;}return this.switchPortObj.uiMonitorLink();},uiSwitchAndPortMonitorLinks:function(){if(this.switchPortObj==null){return null;}else{return this.switchPortObj.uiSwitchAndPortMonitorLinks();}},updateInfo:function(_2){return this._xhrGetMixin("info",this.wsv1Path(),function(_3){if(_3["switch_name"]){this.switchObj=new nox.ext.apps.commonui.directory.Switch({initialData:{name:_3["switch_name"]}});if(_3["port_name"]){this.switchPortObj=new nox.ext.apps.commonui.directory.SwitchPort({switchObj:this.switchObj,initialData:{name:_3["port_name"]}});if(_3["location_name"]){this.location=new nox.ext.apps.commonui.directory.Location({initialData:{name:_3["location_name"]},updateList:["config"],switchObj:this.switchObj,switchPortObj:this.switchPortObj});}}}if(_3.gateway){_3.intftype="Gateway";}else{if(_3.router){_3.intftype="Router";}else{_3.intftype="End-Host";}}return _3;});}});}