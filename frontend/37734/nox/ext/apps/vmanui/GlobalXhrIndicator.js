/* Copyright (c) 2008, 2009, 2010 Nicira, Inc. */

if(!dojo._hasResource["nox.ext.apps.vmanui.GlobalXhrIndicator"]){dojo._hasResource["nox.ext.apps.vmanui.GlobalXhrIndicator"]=true;dojo.provide("nox.ext.apps.vmanui.GlobalXhrIndicator");dojo.declare("nox.ext.apps.vmanui.GlobalXhrIndicator",[dijit._Widget,dijit._Templated],{templateString:"<span class=\"global_xhr_indicator\" dojoAttachPoint=\"global_xhr_indicator\"></span>",fadeOutAnimation:null,fadeInAnimation:null,postCreate:function(){dojo.subscribe("/nox/ext/apps/vmanui/RequestTracker/change",this,"trackerChanged");this.fadeOutAnimation=dojo.fadeOut({node:this.global_xhr_indicator,duration:1000});this.fadeInAnimation=dojo.fadeIn({node:this.global_xhr_indicator,duration:10});},trackerChanged:function(_1){if(_1.hasActiveRequests()){if(this.fadeInAnimation.status()=="stopped"){this.fadeOutAnimation.stop();this.fadeInAnimation.play();}}else{if(this.fadeOutAnimation.status()=="stopped"){this.fadeInAnimation.stop();this.fadeOutAnimation.play();}}}});}