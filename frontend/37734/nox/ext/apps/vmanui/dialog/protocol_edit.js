/* Copyright (c) 2008, 2009, 2010 Nicira, Inc. */

if(!dojo._hasResource["nox.ext.apps.vmanui.dialog.protocol_edit"]){dojo._hasResource["nox.ext.apps.vmanui.dialog.protocol_edit"]=true;dojo.provide("nox.ext.apps.vmanui.dialog.protocol_edit");dojo.require("nox.ext.apps.vmanui.BoundedDialog");dojo.declare("nox.ext.apps.vmanui.dialog.protocol_edit",[dijit._Widget,dojox.dtl._Templated],{popup:null,widgetsInTemplate:true,acl_widget:null,protocol_uid:null,_skipNodeCache:true,empty_str:"",templateString:"<div> \n  <div dojoAttachPoint=\"proto_modify_div\" > \n    <!--    dojoType=\"nox.ext.apps.vmanui.protocol_modify\" dojoAttachPoint=\"proto_modify\" > -->  \n</div> \n</div> \n",postMixInProperties:function(){this.inherited(arguments);this.popup=new nox.ext.apps.vmanui.BoundedDialog({});dojo.connect(this.popup,"onCancel",this,"hide");if(this.protocol_uid===null){this.popup.attr("title","Create Protocol");}else{this.popup.attr("title","View/Modify Protocol");}},postCreate:function(){},startup:function(){this.proto_modify=new nox.ext.apps.vmanui.protocol_modify({is_standalone:true});dojo.place(this.proto_modify.domNode,this.proto_modify_div);var pm=this.acl_widget.role_widget.policy_manager;this.proto_modify.policy_manager=pm;this.proto_modify.acl_widget=this.acl_widget;if(this.protocol_uid!==null){var _2=pm.getProtocol(this.protocol_uid);this.proto_modify.showProtocol(_2);}else{this.proto_modify.showNewProtocol();}dojo.connect(this.proto_modify,"onSave",this,"hide");dojo.connect(this.proto_modify,"onCancel",this,"hide");},show:function(){this.popup.attr("content",this.domNode);dojo.addClass(this.popup.domNode,"protocolEditDialog");nox.ext.apps.vmanui.main.onDialogOpen();this.popup.show();this.popup.refocus=false;},hide:function(){nox.ext.apps.vmanui.main.onDialogClose();this.popup.destroy();this.proto_modify.destroy();this.destroy();}});}