/* Copyright (c) 2008, 2009, 2010 Nicira, Inc. */

if(!dojo._hasResource["nox.ext.apps.vmanui.plotUtil"]){dojo._hasResource["nox.ext.apps.vmanui.plotUtil"]=true;dojo.provide("nox.ext.apps.vmanui.plotUtil");dojo.require("nox.ext.apps.vmanui.RangeArea");dojo.require("nox.ext.apps.vmanui.charting.themes.nicira");dojo.require("nox.ext.apps.vmanui.charting.themes.niciraDashboard");(function(){var _1=nox.ext.apps.vmanui.plotUtil;_1.plotNetFlow=function(_2,_3,_4,_5,_6){dojo.byId(_2).innerHTML="";var _7=nox.ext.apps.vmanui.RangeAreaVerticalAxis;if(_6=="dashboard"){_7=nox.ext.apps.vmanui.DashboardRangeAreaVerticalAxis;}var _8={type:nox.ext.apps.vmanui.RangeArea,tension:"X"};var _9=new dojox.charting.Chart2D(_2).addPlot("default",_8).addAxis("x",{htmlLabels:true,labels:_4}).addAxis("y",{type:_7,vertical:true,htmlLabels:true,maxLabelSize:40,labelFunc:function(_a,_b,_c){return dojo.number.format(Math.abs(_b));}});if(_6=="dashboard"){_9.setTheme(nox.ext.apps.vmanui.charting.themes.niciraDashboard);}else{_9.setTheme(nox.ext.apps.vmanui.charting.themes.nicira);}_1.setChartSeries(_9,_5,_3,_4);return _9;};_1.setChartSeries=function(_d,_e,_f,_10){for(var _11 in _d.runs){_d.removeSeries(_11);}_d.addAxis("x",{htmlLabels:true,labels:_10});try{if(_e){dojo.forEach(_e.reverse(),function(p){if(_f[p]){_d.addSeries(p,_f[p]["data"]);}});}else{for(p in _f){_d.addSeries(p,_f[p]["data"]);}}_d.render();}catch(e){console.log("Render Error:",e);}};_1.fillTableLegendColors=function(_13,_14){var _15={};for(var i=0;i<_13.series.length;i++){var _17=_13.series[i];_15[_17.name]=_17.dyn.fill.toHex().toUpperCase();}for(var i=0;i<_14.length;i++){var _18=_14[i];var sId=_18.series_id;if(sId&&_15[sId]){_18.fillLegendColor(_15[sId]);}}};})();}